<!DOCTYPE html>
<html>
  <head>
    <title>Off the Floor PGH</title>
    <link href="googlemaps.css" rel="stylesheet" type="text/css"/>
  </head>
  <body>
    <div id="map"></div>


    <!-- all necessary script dependencies -->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAVZMMf6C3RJEBHg-HE-_QN1lDsEGgfINU&callback=initMap"
    async defer></script>
    <!--<script src="./markerclusterer.js"</script>-->
    <script src="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/markerclusterer.js"></script>
    <script type="text/javascript" src="./src/client_data.json"></script>
    <script type="text/javascript" src="./src/donor_confirmed.json"></script>
    <script type="text/javascript" src="./src/donor_not_confirmed.json"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <!-- main script functionality for map -->
    <script type="text/javascript">
      function initMap() {
        // Create a map object and specify the DOM element for display.
        var pittsburgh = {lat: 40.45, lng:-79.99};
        var home ={lat: 40.451791,lng: -80.019235};
        var pgh_map = new google.maps.Map(document.getElementById('map'), {
          center: pittsburgh,
          zoom: 10
        });

        function geocode(item) {
          var geocoder = new google.maps.Geocoder();
          geocoder.geocode({ 'address': client_data[i].address }, function(results, status) {
            if (status == google.maps.GeocoderStatus.OK){
              var addressLocation = results[0].geometry.location;
              //client_markers_array.push(latlng)
              item.marker = new google.maps.Marker({
                position: addressLocation,
                map: pgh_map,
                animation: google.maps.Animation.DROP
            });
            }
          });
        }
        //Loop through the client addresses in json file and turn each one into a
        //latitude and longitude. Push each one into an array
        var client_markers_array = [];
        for (var i = 0; i < client_data.length; i++){
          geocode(client_data[i]);
        }
    };
    /*
    var marker = new google.maps.Marker({
    position: {lat: 40.451791,lng: -80.019235},
    map: pgh_map
  });

          //loop through the array of latitudes and longitudes for each client_markers
          //display each one as a marker on the map
    }


          // Add a marker clusterer to manage the markers.
          var markerCluster = new MarkerClusterer(map, markers,
              {imagePath: './images/m'});
        }
        */
    </script>
  </body>
</html>
