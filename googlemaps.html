<!DOCTYPE html>
<html>
  <head>
    <title>Off the Floor PGH</title>
    <link href="googlemaps.css" rel="stylesheet" type="text/css"/>
  </head>
  <body>
    <div id="map"></div>


    <!-- all necessary script dependencies -->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAVZMMf6C3RJEBHg-HE-_QN1lDsEGgfINU&callback=initMap"
    async defer></script>
    <!--<script src="./markerclusterer.js"</script>-->
    <script src="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/markerclusterer.js"></script>
    <script type="text/javascript" src="./src/client_data.json"></script>
    <script type="text/javascript" src="./src/donor_confirmed.json"></script>
    <script type="text/javascript" src="./src/donor_not_confirmed.json"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <!-- main script functionality for map -->
    <script type="text/javascript">
      function initMap() {
        // Create a map object and specify the DOM element for display.
        var pittsburgh = {lat: 40.45, lng:-79.99};
        var home ={lat: 40.451791,lng: -80.019235};
        var pgh_map = new google.maps.Map(document.getElementById('map'), {
          center: pittsburgh,
          zoom: 10
        });
        //client_data markers for all data
        function all_markers(item){
          function geocode(item) {
            var geocoder = new google.maps.Geocoder();
            geocoder.geocode({ 'address': client_data[i].address }, function(results, status) {
              if (status == google.maps.GeocoderStatus.OK){
                var addressLocation = results[0].geometry.location;
                var pinImage = new google.maps.MarkerImage('./images/yellow-dot.png');
                item.marker = new google.maps.Marker({
                  position: addressLocation,
                  map: pgh_map,
                  animation: google.maps.Animation.DROP,
                  icon:pinImage
              });
              }
            });
          }
          //function to make furniture_list
          var furniture_list;
          function get_furniture(client_data.furniture_list){
            
          }
          var contentString = '<div id="content">'+
            '<div id="siteNotice">'+
            '</div>'+
            '<h2 id="firstHeading" class="firstHeading">' + $(client_data.first_name) +
            ' ' + $(client_data.last_name) + '</h2>'+
            '</br>' +
            '<div id="bodyContent">'+
            '<p><b>Address:</b>'+$(client_data.address) + '</p>' +
            '</br>' +
            '<p><b>Phone:</b>'+$(client_data.phone) + '</p>' +
            '<p><b>Phone:</b>'+$(client_data.phone_backup) + '</p>' +
            '</br>' +
            '<p><b>Furniture:</b>'+ $(furniture_list) + '</p>' +
            '</div>'+
            '</div>';

          var infowindow = new google.maps.InfoWindow({
            content: contentString
          });

          item.marker.addListener('click', function() {
            infowindow.open(pgh_map, item.marker);
          });

        }
        //cycle through all data to display everything on map
        for (var i = 0; i < client_data.length; i++){
          all_markers(client_data[i]);
        }
    };
    //turn furniture array into string furniture_list




     }


          // Add a marker clusterer to manage the markers.
          var markerCluster = new MarkerClusterer(map, markers,
              {imagePath: './images/m'});
        }
        */
    </script>
  </body>
</html>
